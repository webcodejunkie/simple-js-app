let pokemonRepository=function(){let e=[],o=document.querySelector("#searchPokemon"),t={genOne:"https://pokeapi.co/api/v2/pokemon?offset=0&limit=151",genTwo:"https://pokeapi.co/api/v2/pokemon?offset=152&limit=251",genThree:"https://pokeapi.co/api/v2/pokemon?offset=252&limit=386",genFour:"https://pokeapi.co/api/v2/pokemon?offset=387&limit=493",genFive:"https://pokeapi.co/api/v2/pokemon?offset=494&limit=649",genSix:"https://pokeapi.co/api/v2/pokemon?offset=650&limit=721",genSeven:"https://pokeapi.co/api/v2/pokemon?offset=722&limit=809",genEight:"https://pokeapi.co/api/v2/pokemon?offset=810&limit=898"};function n(e){let o=e.detailsUrl;return fetch(o).then(function(e){return e.json()}).then(function(o){e.imageUrl=o.sprites.front_default,e.height=o.height,e.weight=o.weight,e.types=[];for(let t=0;t<o.types.length;t++)e.types.push(o.types[t].type.name)}).catch(function(e){console.error(e)})}function i(o){e.push(o)}function p(){let e=$(".modal-body");$(".modal").removeClass("is-visible"),e.empty()}return o.addEventListener("input",function(){let e=document.querySelectorAll(".pokemon-list-items"),t=o.value.toUpperCase();e.forEach(function(e){e.innerText.toUpperCase().indexOf(t)>-1?e.style.display="":e.style.display="none"})}),{add:i,getAll:function(){return e},addListItem:function(e){n(e).then(function(){let o=document.querySelector(".pokemon-list"),t=document.createElement("li");t.classList.add("pokemon-list-items"),t.classList.add("list-group-item");let i=document.createElement("div");i.addEventListener("click",function(){!function(e){n(e).then(function(){let o=document.querySelector(".modal"),t=$(".modal-title"),n=$(".modal-body"),i=$(".close-this"),s=$("<img></img>");s.addClass("modal-pokemon-images"),s.attr("src",e.imageUrl);let l=$("<p></p>");l.text("Height: "+e.height);let a=$("<p></p>");a.text("Weight: "+e.weight);let m=$("<p></p>");m.text("This PokÃ©mons types are "+e.types+" type."),m.appendTo(n),l.appendTo(n),a.appendTo(n),s.appendTo(n),t.text(e.name),i.on("click",function(){p()}),window.addEventListener("keydown",e=>{let o=document.querySelector(".modal");"Escape"===e.key&&o.classList.contains("is-visible")&&p()}),o.addEventListener("click",e=>{e.target===o&&p()}),o.classList.add("is-visible")})}(e)}),i.classList.add("button-hover"),i.innerText=e.name;let s=document.createElement("img");s.classList.add("many-pokemon-images"),s.src=e.imageUrl,t.appendChild(i),o.appendChild(t),i.appendChild(s)})},clearList:function(){e.length=0},loadGens:function(e){let o=t[e];return fetch(o).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url,types:e.types})})}).catch(function(e){console.error(e)})}}}();function valGenOne(){pokemonRepository.loadGens("genOne").then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.clearList(),$(".pokemon-list").empty()})}function valGenTwo(){pokemonRepository.loadGens("genTwo").then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.clearList(),$(".pokemon-list").empty()})}function valGenThree(){pokemonRepository.loadGens("genThree").then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.clearList(),$(".pokemon-list").empty()})}function valGenFour(){pokemonRepository.loadGens("genFour").then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.clearList(),$(".pokemon-list").empty()})}function valGenFive(){pokemonRepository.loadGens("genFive").then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.clearList(),$(".pokemon-list").empty()})}function valGenSix(){pokemonRepository.loadGens("genSix").then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.clearList(),$(".pokemon-list").empty()})}function valGenSeven(){pokemonRepository.loadGens("genSeven").then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.clearList(),$(".pokemon-list").empty()})}function valGenEight(){pokemonRepository.loadGens("genEight").then(function(e){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.clearList(),$(".pokemon-list").empty()})}
